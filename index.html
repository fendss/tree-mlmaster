<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Evolution Visualization</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- æ¯”èµ›é€‰æ‹©é¡µé¢ -->
        <div id="competition-selector" class="page active">
            <div class="container">
                <header class="header">
                    <h1>ML Evolution Visualization</h1>
                    <p class="subtitle">Explore the evolution path of Kaggle competition solutions</p>
                </header>
                
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Search competition name..." autocomplete="off">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </div>

                <div id="competition-grid" class="competition-grid">
                    <!-- æ¯”èµ›å¡ç‰‡å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>

        <!-- æ ‘å¯è§†åŒ–é¡µé¢ -->
        <div id="tree-viewer" class="page">
            <header class="viewer-header">
                <button id="back-btn" class="back-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back
                </button>
                <h2 id="competition-title"></h2>
                <div class="viewer-controls">
                    <button id="highlight-view-btn" class="control-btn highlight-view-btn" title="Toggle highlight view">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                    </button>
                    <button id="play-btn" class="control-btn play-btn" title="Play animation">
                        <svg id="play-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                        <svg id="pause-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                            <path d="M6 4h4v16H6zM14 4h4v16h-4z"/>
                        </svg>
                    </button>
                    <button id="reset-view-btn" class="control-btn" title="Reset view">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                            <path d="M21 3v5h-5"/>
                        </svg>
                    </button>
                    <button id="fit-screen-btn" class="control-btn" title="Fit screen">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                        </svg>
                    </button>
                </div>
            </header>

            <div class="viewer-content">
                <div id="tree-container" class="tree-container">
                    <svg id="tree-svg"></svg>
                </div>
                
                <!-- æ’­æ”¾ä¸“ç”¨çª—å£ -->
                <div id="playback-panel" class="playback-panel" style="display: none;">
                    <div class="playback-panel-header">
                        <h3>ðŸ“Š Evolution Tracking</h3>
                        <div class="playback-controls-group">
                            <div class="playback-progress">
                                <span id="current-node-indicator">Node -</span>
                                <span class="progress-separator">/</span>
                                <span id="total-nodes-indicator">-</span>
                            </div>
                            <div class="speed-control">
                                <label for="playback-speed">Speed:</label>
                                <select id="playback-speed" class="speed-select">
                                    <option value="0.5">0.5x</option>
                                    <option value="0.75">0.75x</option>
                                    <option value="1" selected>1x</option>
                                    <option value="1.5">1.5x</option>
                                    <option value="2">2x</option>
                                    <option value="3">3x</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="playback-panel-content">
                        <div id="playback-changes" class="playback-changes">
                            <div class="playback-placeholder">
                                <p>Click Play to start tracking evolution</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="node-details" class="node-details">
                    <div class="node-details-resize-handle" id="resize-handle"></div>
                    <div class="node-details-content">
                        <div class="details-placeholder">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 16v-4M12 8h.01"/>
                            </svg>
                            <p>Click tree node to view detailed information</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å±žæ€§è¯¦æƒ…æ¨¡æ€æ¡† -->
        <div id="property-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title"></h3>
                    <button id="close-modal-btn" class="close-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 6 6 18M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <pre id="modal-content"></pre>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

